var b=Object.defineProperty,_=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var f=(e,t,s)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,p=(e,t)=>{for(var s in t||(t={}))$.call(t,s)&&f(e,s,t[s]);if(y)for(var s of y(t))C.call(t,s)&&f(e,s,t[s]);return e},d=(e,t)=>_(e,w(t));import{d as l,c as u,a as n,t as r,F as x,o as c,r as k,b as S,e as q,f as j,g as A}from"./vendor.978221e7.js";const O=e=>({baseURL:e,headers:{"X-Requested-With":"XMLHttpRequest"}}),h=async(e,t,s,o)=>{try{const i=await e.post(t,s);o&&i.data&&o(i.data)}catch(i){console.error("xhr",i)}};var g=(e,t)=>{const s=e.__vccOpts||e;for(const[o,i]of t)s[o]=i;return s};const B=l({props:{section:{type:Object,required:!0},api:{type:Object,required:!0}},methods:{async syncCollection(){let e=d(p({},this.section),{sectionId:this.section.id,[this.api.csrf.name]:this.api.csrf.value});await h(this.api.client,"typesense/sync-collection",e,t=>{console.table(t)})},async flushCollection(){let e=d(p({},this.section),{sectionId:this.section.id,[this.api.csrf.name]:this.api.csrf.value});await h(this.api.client,"typesense/flush-collection",e,t=>{console.table(t)})}}}),I={class:"px-6 py-4 whitespace-nowrap flex items-center"},L={class:"px-6 py-4 whitespace-nowrap flex items-center"},F={class:"px-6 py-4 whitespace-nowrap flex items-center"},R={class:"px-6 py-4 whitespace-nowrap flex items-center"},E={class:"px-6 py-2 border-b border-gray-100 space-x-2"};function N(e,t,s,o,i,v){return c(),u(x,null,[n("div",I,r(e.section.index),1),n("div",L,r(e.section.name),1),n("div",F,r(e.section.type),1),n("div",R,r(e.section.entryCount),1),n("div",E,[n("button",{type:"button",class:"cursor-pointer inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-700 hover:bg-indigo-900",onClick:t[0]||(t[0]=a=>e.syncCollection())}," Sync "),n("button",{type:"button",class:"cursor-pointer inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-indigo-700 border border-solid border-indigo-700 hover:text-white hover:bg-indigo-900",onClick:t[1]||(t[1]=a=>e.flushCollection())}," Flush ")])],64)}var T=g(B,[["render",N]]);const U=l({components:{"list-item-section":T},props:{sections:{type:Object,required:!0},apiConfig:{type:Object,required:!0}},data:()=>({api:null}),methods:{createApi(){const e={client:axios.create(O(this.apiConfig.baseUrl)),csrf:this.apiConfig.csrf};this.api=e}},async created(){await this.createApi()}}),V={class:"rounded-tr-sm rounded-tl-sm"},X=S('<div class="grid grid-cols-5 rounded-tr-md rounded-tl-md bg-gray-100"><div class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Index </div><div class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Section </div><div class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Type </div><div class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Total Entries </div><div class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Sync </div></div>',1),D={class:"grid grid-cols-5"};function G(e,t,s,o,i,v){const a=q("list-item-section");return c(),u("section",V,[X,n("div",D,[(c(!0),u(x,null,k(e.sections,m=>(c(),j(a,{section:m,key:m.id,api:e.api},null,8,["section","api"]))),128))])])}var H=g(U,[["render",G]]);const M=l({components:{"grid-sections":H}}),W=async()=>A(M).mount("#typesense-collections");W().then(e=>{});
//# sourceMappingURL=typesense-collections.316f53b9.js.map
